# MY TEXT DUNGEON: 이상적인 완성형 게임 설계서

## 문서 목적
이 문서는 "텍스트 기반 다크 판타지 로그라이크"를 이상적인 수준으로 완성하기 위한 기준 문서다.
핵심은 기능 나열이 아니라 다음 4가지를 동시에 만족하는 것이다.
- 플레이 재미: 매 턴이 의미 있고, 실패가 억울하지 않으며, 다시 도전하고 싶다.
- 시스템 완성도: 전투/이벤트/경제/성장/제작이 하나의 일관된 규칙으로 동작한다.
- 콘텐츠 생태계: 제작자(Builder)와 플레이어가 서로에게 가치를 주는 구조가 지속된다.
- 라이브 운영성: 밸런스 이상, 악용, 품질 저하를 빠르게 관측하고 즉시 대응 가능하다.

---

## 1. 이상적인 게임의 정체성

### 1.1 코어 판타지
- 플레이어 판타지: "한 번의 원정에서 내가 한 선택이 서사, 빌드, 생사를 만든다."
- 제작자 판타지: "내가 만든 카드와 구조가 실제 플레이 감정 곡선을 만든다."
- 운영 판타지: "대규모 UGC 환경에서도 공정성과 재미를 안정적으로 유지한다."

### 1.2 장르 정의
- 장르 축: 텍스트 로그라이크 + 경량 턴제 전투 + UGC 던전 탐험
- 감성 축: 다크 판타지, 짧고 강한 문장, 고위험 고보상, 불완전 정보
- 리플레이 축: 런마다 다른 조합/분기/위기/회복으로 높은 재도전성

### 1.3 제품 약속
- "짧게 해도 완결감"과 "길게 해도 깊이"를 모두 제공
- 쉬운 조작, 어려운 판단
- 실패는 손실이지만 성장은 남는 구조

---

## 2. 플레이 경험의 전체 루프

### 2.1 단일 런 루프
1. 던전 진입 전 준비
2. 방 진입(전투/함정/이벤트/NPC/휴식/보스)
3. 즉시 의사결정(행동 선택)
4. 결과 처리(피해/보상/상태/자원 변화)
5. 단기 빌드 재조정(장비/소모품/리스크 감수)
6. 다음 방으로 진행
7. 클리어 또는 사망 정산

### 2.2 메타 루프
1. 런 정산 자원 획득
2. 영웅 계정 성장/해금
3. 새로운 조합과 난이도 선택
4. 고난도/시즌/도전 규칙 도전

### 2.3 감정 곡선(이상적)
- 초반 20%: 학습 + 예열, 선택 실수 허용
- 중반 50%: 자원 압박 + 위험 증폭, 전술 판단의 비중 증가
- 후반 25%: 위기 관리 + 보스 메커닉 대응
- 종결 5%: 정산 만족감 + 다음 런 동기 강화

### 2.4 한 턴의 재미 단위
- 의사결정 전: 위험/기회가 명확히 보인다.
- 의사결정 순간: 2~4개의 실질적 대안이 있다.
- 결과 직후: 왜 이런 결과가 났는지 납득 가능하다.
- 다음 턴 연결: 방금 선택이 다음 선택을 바꾼다.

---

## 3. 전투 시스템 완성형

### 3.1 전투 설계 원칙
- 단순한 입력, 높은 판단 밀도
- 짧은 턴, 긴 여운
- 수치 공개는 제한하되 예측 가능성은 보장

### 3.2 턴 구조
1. 턴 시작 효과(HOT, 턴 시작 트리거)
2. 행동 선택(공격/스킬/방어/아이템/도주)
3. 즉시 판정(명중/치명/속성/저항)
4. 결과 적용(HP/MP/상태/사망)
5. 턴 종료 효과(DOT, 지속시간 감소)

### 3.3 행동 타입
- 단일 공격: 안정적, 타깃 우선순위 중요
- 광역 공격: 다수전 제어, 단일 화력 손해
- 방어: 즉시 생존, 딜레이 손해
- 아이템: 리스크 전환 수단, 소모 자원과 교환
- 도주: 확률형 손절, 장기 기대값 관리 수단

### 3.4 상태이상 프레임워크
- DOT: 화상/중독/출혈(누적 압박)
- 제어: 기절/빙결/혼란(행동 제약)
- 약화: 실명/약화/취약(판정 불리)
- 강화: 재생/강인/신속(판정 유리)

상태 공통 스펙
- `id`: 고유 상태 식별자
- `turns`: 지속 턴
- `stacks`: 중첩
- `source`: 발생 원인
- `dispellable`: 해제 가능 여부
- `maxStacks`: 중첩 상한

상태 설계 규칙
- 강제 제어형은 짧고 강하게, 해제 수단을 항상 제공
- DOT는 누적될수록 강해지되, 선택을 통해 완화 가능해야 함
- 플레이어/적 모두 같은 규칙을 공유(대칭성 확보)

### 3.5 전투 판정의 납득성
- 로그는 "결과"보다 "원인 -> 계산 -> 결과" 순서로 출력
- 예시 로그 구조
  - "적의 강타"
  - "방어 태세로 피해 감소"
  - "최종 피해: -12 HP"

### 3.6 적 AI 이상형
- 완전 랜덤 금지
- 우선순위 기반 행동 선택
  - 체력 50% 이하 페이즈 전환
  - 다수전일수록 협공 로직 반영
  - 제어/약화 상태에서는 행동 우선순위 변화

### 3.7 보스 전투 이상형
- 보스당 시그니처 메커닉 1~2개
- 페이즈 전환은 체력, 턴 수, 특정 조건 트리거 기반
- 고난도는 체력 뻥튀기보다 의사결정 밀도 상승으로 표현

---

## 4. 비전투 시스템 완성형

### 4.1 함정
- 함정은 "불가피한 징벌"이 아니라 "정보 기반 위험 관리" 콘텐츠여야 함
- 핵심 규칙
  - 사전 단서 제공
  - 대응 옵션 2개 이상
  - 실패해도 런이 즉시 무의미해지지 않음

### 4.2 이벤트 선택지
- 모든 선택지에 리스크/보상 태그 표시
- 선택지별 기대값(EV)이 완전히 동일할 필요는 없지만 "트레이드오프"는 명확해야 함
- 실패 시 부분 보상 또는 대체 기회 설계로 좌절 완화

### 4.3 제단(거래형 이벤트)
- 비용과 보상의 성격이 명확하게 대비되어야 함
- `즉시 생존`, `장기 강화`, `경제 이득` 중 하나를 고르는 구조
- 파산형 선택(골드/체력 과소모)은 경고 UX 필수

### 4.4 NPC(상인/대화/의뢰)
- 상인: 런 내 의사결정 깊이를 높이는 경제 허브
- 대화: 정보/경험치/골드 교환으로 리듬 조절
- 의뢰: 중기 목표를 제공해 런의 서사적 집중력을 강화

### 4.5 휴식 지점
- 휴식: 즉시 안정
- 제작: 중간 리스크를 감수하고 미래 효율 확보
- 정찰: 정보 우위로 이후 리스크 경감

---

## 5. 클래스와 빌드 시스템 완성형

### 5.1 클래스 정체성
- 워리어: 저점이 높고 고점은 안정적인 브루저
- 로그: 선공/치명/회피/함정 대응 중심의 폭발형
- 메이지: MP를 생존과 화력 모두로 변환하는 고숙련형
- 레인저: 속도/표식/거리 이득을 누적하는 균형형
- 클레릭: 정화/회복/완충을 통해 장기 생존 최적화

### 5.2 빌드 축
- 장비 축: 무기/방어구/장신구 조합
- 소비 축: 포션/도구/전술 아이템 사용 타이밍
- 상태 축: 특정 상태를 걸고 활용하는 시너지
- 스탯 축: 공격형/방어형/속도형/행운형 지향

### 5.3 클래스 설계 원칙
- 각 클래스는 "강한 상황"과 "약한 상황"이 명확해야 함
- 어떤 클래스도 모든 상황의 정답이 되면 안 됨
- 고난도에서 클래스 승률 편차는 좁히되 플레이 감각은 유지

### 5.4 빌드 다양성 목표
- 각 클래스당 실전 빌드 3개 이상
- 특정 아이템/상태 조합이 메타를 독점하지 않도록 주기적 조정
- 픽률 낮은 옵션은 단순 버프가 아니라 사용 맥락 개선 중심

---

## 6. 밸런스 철학과 운영

### 6.1 난이도 설계 목표
- EASY: 시스템 학습 + 성공 경험
- NORMAL: 표준 난이도, 대부분의 유저 기준점
- HARD: 실수 허용이 낮아지고 판단 정밀도 요구
- NIGHTMARE: 리스크 관리와 지식 활용의 종합 시험

### 6.2 완주율 목표(권장)
- EASY: 70%+
- NORMAL: 50~60%
- HARD: 30~40%
- NIGHTMARE: 15~25%

### 6.3 밸런스의 공정성 기준
- 죽었을 때 "내가 무엇을 잘못했는지"를 설명할 수 있어야 함
- 운이 개입해도 실력 우위를 장기적으로 보상해야 함
- 리스크를 감수하면 보상 기대값이 합리적으로 증가해야 함

### 6.4 밸런스 파이프라인
1. 런 데이터 수집(피해/회복/골드/XP/사망 위치)
2. 클래스/난이도/던전별 편차 분석
3. 과도 편차 지점 탐지(상위/하위 5%)
4. 미세 조정(수치, 확률, 비용)
5. 회귀 검증(시뮬레이터 + 실제 로그)

### 6.5 밸런스 회귀 금지 규칙
- 체감 난이도를 급격히 흔드는 대규모 수치 변경 금지
- 너프는 대체 선택지를 함께 제공
- 버프는 악용 가능성 검토 후 단계적 적용

---

## 7. 경제와 보상 시스템 완성형

### 7.1 통화 분리 원칙
- 런 내 통화: 던전 골드(런 종료 시 대부분 소멸)
- 메타 통화: 계정 자원(영구 성장에 사용)

### 7.2 보상 구조
- 전투 보상: 기본 수익, 위험 대비 안정 수익
- 이벤트 보상: 고변동 수익, 지식/판단 보상
- 퀘스트 보상: 중기 목표 달성 수익
- 클리어/실패 보상: 런 결과에 따른 메타 진전

### 7.3 인플레이션 제어
- 상점 가격 스케일링으로 구매력 과팽창 방지
- 특정 고효율 아이템 반복 구매 제한
- 런당 획득량 상한은 숨겨진 안전장치로 유지

### 7.4 보상의 심리적 설계
- 소보상은 자주, 대보상은 기억에 남게
- "지금 당장 유용한 보상"과 "다음 런 기대 보상"을 혼합
- 실패해도 축적되는 지표를 명확히 보여 재도전 유도

---

## 8. 던전/콘텐츠 구조 설계

### 8.1 던전 구조
- 기본 구조: 직선 + 갈림길 + 합류
- 갈림길 설계 원칙
  - 왼쪽/오른쪽의 위험 성향 힌트 제공
  - 완전 함정길 금지
- 종착 구조
  - 단순 도달 외에도 보스/조건형 엔드 변형 가능

### 8.2 카드 카테고리 균형
- 전투 카드 비율이 과도하면 피로 증가
- 이벤트/휴식/NPC를 적절히 배치해 리듬 유지
- 초반은 학습형, 후반은 판단형 카드 비중 증가

### 8.3 콘텐츠 난이도 곡선
- 초반: 변수 적고 결과 명확
- 중반: 변수 증가, 리소스 압박 시작
- 후반: 고위험 선택과 복합 패턴 등장

### 8.4 변주 시스템
- 동일 카테고리라도 문맥/태그/행동 패턴이 달라져야 함
- "새 카드"보다 "새 조합"이 더 많이 나오도록 설계

---

## 9. Builder(UGC) 완성형

### 9.1 제작자 경험 목표
- 빠르게 시작, 깊게 완성
- 실수는 즉시 피드백
- 게시 전에 플레이 감정 곡선을 점검 가능

### 9.2 제작 워크플로우
1. 테마/난이도 설정
2. 카드 초안 생성 또는 수동 작성
3. 구조 배치(방 흐름/분기)
4. 자동 검증(수치/정책/완주 가능성)
5. 테스트 플레이
6. 게시/업데이트

### 9.3 품질 게이트
- 금지 표현/정책 위반 자동 감지
- 수치 상한/하한 자동 교정
- 초반 과난이도, 보상 부재, 불가능 구조 차단

### 9.4 제작자 도구
- 난이도 히트맵(방별 위험도)
- 예상 완주율/예상 런타임
- 보상 분포 시각화
- 태그 충돌/중복 경고

### 9.5 생태계 운영
- 추천 알고리즘: 만족도 + 완주율 + 재도전율 + 신고율
- 제작자 랭크: 꾸준한 업데이트, 플레이어 반응, 안정성 반영
- 시즌 챌린지: 테마형 제작 이벤트로 생태계 활성화

---

## 10. AI 통합 완성형

### 10.1 AI 역할 분리
- 생성 AI: 카드/문장 초안 생성
- 판정 AI: 자유형 이벤트 결과 보조
- 검수 AI: 정책/밸런스/텍스트 품질 검사

### 10.2 AI 안전 규칙
- 스키마 강제(JSON 검증 실패 시 폐기)
- 타임아웃/재시도/백오프
- 실패 시 deterministic fallback으로 즉시 대체

### 10.3 품질 기준
- 한국어 일관성
- 장문 반복/모순 감지
- 카테고리 의도 불일치 자동 재요청

### 10.4 플레이 경험 원칙
- AI 결과는 "놀람"을 주되 "부당함"을 만들지 않는다.
- AI는 규칙 위에서 변주해야 하며 규칙을 깨면 안 된다.

---

## 11. UI/UX 완성형

### 11.1 UX 원칙
- 지금 필요한 정보가 가장 먼저 보인다.
- 위험/기회/중립을 색과 아이콘으로 즉시 구분한다.
- 로그는 감정 연출과 수치 전달을 동시에 수행한다.

### 11.2 플레이 화면 정보 계층
- 1계층: 생존 핵심(HP/MP/상태/턴)
- 2계층: 의사결정 보조(적 정보/행동 효과/성공 확률 범주)
- 3계층: 장기 정보(퀘스트/정산/메타 힌트)

### 11.3 입력 경험
- 주 행동 버튼은 엄지 영역 중심
- 중요한 선택은 1탭, 위험한 선택은 2단계 확인
- 실수 복구 수단(예: 도움말/룰 설명)을 가깝게 배치

### 11.4 로그 연출
- 짧은 문장 + 핵심 숫자 강조
- 큰 사건(치명타, 처치, 페이즈 전환)은 시각/음향 동시 피드백
- 스킵 가능하지만 핵심 사건은 요약 보존

### 11.5 접근성
- 색상 의존 단독 표현 금지(아이콘/텍스트 병행)
- 모션 감소 설정 시 애니메이션 최소화
- 작은 화면(360px 이하)에서도 조작/가독성 유지

---

## 12. 사운드와 연출

### 12.1 사운드 역할
- 입력 피드백(UI)
- 전투 타격감(HIT/CRIT)
- 경제 보상(COIN)
- 회복 안정감(HEAL)

### 12.2 연출 강도 규칙
- 빈번한 사건은 가볍게
- 드문 사건은 강하게
- 과도한 이펙트 중첩은 피로를 유발하므로 상한 관리

### 12.3 텍스트 연출
- 배경 묘사와 결과 묘사를 분리
- 공포/긴장/안도 구간별 문장 톤을 조절
- 문학성보다 플레이 명료성을 우선

---

## 13. 메타 진행과 장기 동기

### 13.1 영구 성장
- 클래스별 해금 트리
- 유물/특성 해금
- 계정 단위 편의성 개선 해금

### 13.2 시즌 구조
- 시즌마다 규칙 변형(태그/환경/이상현상)
- 시즌 미션/시즌 보상
- 시즌 종료 후 아카이브와 명예 보존

### 13.3 장기 만족도 원칙
- 강해지는 체감은 주되 난이도 의미를 지킨다.
- 성장은 선택의 폭을 늘려야지 정답을 줄이면 안 된다.

---

## 14. 소셜/경쟁/협력 확장

### 14.1 소셜 최소 단위
- 던전 평가(좋아요/추천)
- 플레이 리포트 공유
- 제작자 팔로우

### 14.2 경쟁 요소
- 시즌 랭킹(난이도별/클래스별/던전별)
- 주간 변칙 룰 챌린지
- 핵심 원칙: 페이투윈 없이 실력/지식 중심

### 14.3 협력 요소(확장안)
- 공동 제작 던전
- 리믹스 기반 2차 창작 허용
- 협력 이벤트(커뮤니티 목표 달성형)

---

## 15. 기술 아키텍처 이상형

### 15.1 클라이언트 구조
- 플레이 도메인을 모듈화
  - 전투, 상태, 보상, 이벤트, UI, 오디오 분리
- 공통 유틸은 단일 소스 유지
  - 밸런스 계산, 카드 정규화, 로그 포매팅

### 15.2 서버/데이터 구조
- 읽기 모델(목록/추천)과 쓰기 모델(검증/게시) 분리
- 카드/던전 스키마 버전 명시
- 게시 시점 스냅샷 보존으로 리플레이 재현성 확보

### 15.3 신뢰성
- 외부 API 실패 시 폴백 경로
- 중요 연산은 멱등성 유지
- 리소스 정산 로직은 재시도 안전하게 설계

### 15.4 성능 목표
- 첫 상호작용까지 지연 최소화
- 긴 로그/긴 던전에서도 프레임 드롭 방지
- 모바일 저사양 기기에서 핵심 루프 보장

---

## 16. 보안/악용 대응

### 16.1 악용 표면
- 비정상 카드 데이터
- 클라이언트 변조를 통한 정산 악용
- 스팸 게시/정책 위반 콘텐츠

### 16.2 대응 원칙
- 신뢰 경계 밖 입력은 모두 정규화
- 정산은 서버 검증 기반
- 신고/차단/복구 워크플로우 자동화

### 16.3 데이터 무결성
- 핵심 이벤트 감사 로그
- 이상 패턴 탐지(비정상 완주율/획득량)
- 롤백 가능성 보장

---

## 17. 관측과 데이터 기반 개선

### 17.1 필수 지표
- 난이도별 완주율/사망 구간
- 클래스별 승률/픽률
- 카드 카테고리별 이탈율
- 이벤트 선택지 선택률과 결과 만족도
- 경제 지표(평균 획득/소비/잔여)

### 17.2 품질 지표
- AI 폴백 비율
- 게시 후 수정률(제작자 품질 신호)
- 신고율/차단율/복구율

### 17.3 개선 프로세스
1. 문제 정의(지표 이상 탐지)
2. 가설 수립(원인 후보)
3. 소규모 변경 적용
4. A/B 또는 단계 배포
5. 효과 검증 후 확정

---

## 18. 테스트 전략 완성형

### 18.1 유닛 테스트
- 피해/치명/도주/저항 공식
- 상태이상 적용/감소/해제
- 보상 정산/골드 상쇄/XP 레벨업

### 18.2 통합 테스트
- 던전 진입 -> 진행 -> 정산 전 구간
- 전투+이벤트+상점+휴식 혼합 시나리오
- AI 실패/네트워크 오류 폴백 시나리오

### 18.3 시뮬레이션 테스트
- 난이도별 1만 런 샘플링
- 클래스/카드 조합 편차 탐지
- 경제 수렴/인플레이션 검증

### 18.4 회귀 테스트
- 주요 밸런스 패치마다 고정 시드 리플레이 비교
- UI 정보 계층 깨짐 여부 스냅샷 확인

---

## 19. 완벽한 재미의 설계 언어

### 19.1 재미를 만드는 5요소
- 명확성: 현재 상황을 이해할 수 있다.
- 선택성: 다른 선택이 실제로 다른 결과를 만든다.
- 긴장감: 손실 가능성이 체감된다.
- 보상감: 선택 성공이 감정적으로 보상된다.
- 회복성: 실패 이후 다시 도전할 동기가 유지된다.

### 19.2 불쾌한 재미(피로) 방지
- 불명확한 즉사 패턴 금지
- 반복 입력 강요 금지
- 보상 없는 긴 구간 금지
- 설명 없는 급격 난이도 상승 금지

### 19.3 "한 판 더"를 만드는 장치
- 런 종료 화면에서 다음 목표 제시
- 새 조합/새 태그/새 난이도의 유혹 제공
- 방금 실패를 교정할 힌트 제공

---

## 20. 플랫폼/스크린 호환성 기준

### 20.1 지원 기준
- 모바일 세로(최우선)
- 태블릿 세로/가로
- 데스크톱(정보 밀도 강화)

### 20.2 공통 UX 규칙
- 작은 화면: 핵심 액션 우선, 보조 정보 접기
- 큰 화면: 비교 정보(적 상태/퀘스트/가방) 동시 노출
- 터치/마우스 모두 동일한 의미의 상호작용 제공

### 20.3 접근성 기준
- 텍스트 대비 비율 준수
- 포커스 이동/키보드 접근성 보장
- 보조기기 친화 라벨 제공

---

## 21. 콘텐츠 운영 정책(라이브)

### 21.1 업데이트 리듬
- 주간: 소규모 밸런스/품질 패치
- 월간: 신규 카드/던전 테마/시즌 미션
- 분기: 대형 시스템 업데이트

### 21.2 커뮤니티 피드백 루프
- 상위 이슈 공개 트래킹
- 반영 여부/사유 투명 공지
- 고품질 제작자와의 공동 개선 프로그램

### 21.3 운영 우선순위
1. 치명 버그/악용 차단
2. 밸런스 붕괴 복구
3. 피로 구간 개선
4. 신규 콘텐츠 투입

---

## 22. 이상적인 개발/배포 프로세스

### 22.1 개발 원칙
- 대형 기능은 항상 도메인 모듈로 분리
- 하드코딩 수치 금지, 밸런스 엔진 단일화
- 문서와 코드 동시 갱신

### 22.2 배포 원칙
- 단계 배포(내부 -> 일부 사용자 -> 전체)
- 롤백 플랜 사전 준비
- 배포 후 24시간 집중 모니터링

### 22.3 품질 게이트
- lint/build/test 통과 필수
- 주요 시나리오 수동 플레이 체크리스트
- 지표 이상 자동 경보

---

## 23. 완성형 로드맵

### Phase A: 코어 완성
- 전투/이벤트/보상/정산 규칙 완전 통합
- 플레이 화면 정보 계층 안정화
- 핵심 지표 대시보드 구축

### Phase B: 메타 확장
- 클래스별 고유 트리와 유물 시스템 확장
- 시즌 규칙 도입
- Builder 검증/추천 고도화

### Phase C: 생태계 완성
- 제작자 랭크/리믹스/공동 제작
- 대규모 시즌 이벤트
- 장기 라이브 운영 체계 완성

---

## 24. "완벽한 게임" 상태 정의
완벽한 상태는 기능의 많고 적음이 아니라, 다음 문장이 참이 되는 상태다.
- 플레이어: "실패해도 억울하지 않고, 성공하면 짜릿하며, 다음 판이 기대된다."
- 제작자: "내 의도가 시스템에 의해 왜곡되지 않고 플레이 경험으로 전달된다."
- 운영자: "문제가 생겨도 원인을 빠르게 찾고 수치로 안정화할 수 있다."

즉, 완벽함은 아래 네 축의 균형이다.
- 재미(체감)
- 공정성(수치)
- 확장성(콘텐츠)
- 운영성(관측/대응)

---

## 25. 체크리스트: 릴리즈 직전 "완성형" 점검
- 전투 결과가 로그만으로 재현 가능한가?
- 상태이상 규칙이 플레이어/적 모두 동일하게 적용되는가?
- 난이도별 완주율이 목표 범위에 근접하는가?
- 특정 클래스/아이템이 메타를 독점하지 않는가?
- 실패 보상이 재도전 동기를 보장하는가?
- Builder로 제작된 저품질 던전이 자동으로 차단되는가?
- 모바일 360px 환경에서도 핵심 루프가 무리 없이 진행되는가?
- AI 실패 시 플레이가 끊기지 않고 폴백되는가?
- 운영 대시보드로 이상 징후를 1일 내 탐지 가능한가?
- 패치 후 회귀 테스트가 자동/수동 모두 통과하는가?

이 체크리스트를 항상 통과하는 상태가, 이 프로젝트가 지향하는 "이상적인 게임"의 실무적 기준이다.
